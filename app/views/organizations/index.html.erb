<div class="container-fluid">
  <h1 align="center" class="sub-title">Organizations</h1>
  <div align="center">
    <div class="inner-addon left-addon search-box">
    <i class="glyphicon glyphicon-search"></i>
    <input type="text" id="search" placeholder="Search" autocomplete="off" class="form-control center-block" >
    </div>
  </div>
  <div class="flex-between">
    <% @organizations.each do |t| %>
        <div class="card org">
          <div class="avatar">
            <%= image_tag t.avatar.url(:thumb), class: "image-responsive" %>
          </div>
          <div class="content">
            <p class="searchable">
              <strong><%= t.title %></strong> <br>
              <%= t.description %></p>
            <%= link_to "Profile", organization_path(t), class: "btn btn-default" %>
          </div>
        </div>
      <% end %>
  </div>
</div>

<script type="text/javascript">

  $(document).ready(function() {

    var timeoutID = null;

    function findMember(str) {
      $('.users-list li').each(function(){
        var text = $(this).text()

        if(text.search(str) < 0)
          $(this).fadeOut();
          else
          $(this).fadeIn();

      });
    }

    $('#search').keyup(function(e) {
      clearTimeout(timeoutID);
      timeoutID = setTimeout(findMember.bind(undefined, e.target.value), 500);
    });

  });
</script>
